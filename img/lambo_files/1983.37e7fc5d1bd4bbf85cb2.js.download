"use strict";(globalThis.webpackChunkclient=globalThis.webpackChunkclient||[]).push([[1983],{5158:(e,a,t)=>{t.d(a,{D_:()=>x,G_:()=>w,W:()=>f,gz:()=>D,wk:()=>_});var r=t(32559),n=t(3730),d=t(94039),o=t(86961),s=t(88178),c=t(91399),l=t(19457),i=t(17306),p=t(74525),h=t(95889),u=t(75227),m=t(44825),I=t(12373),T=t(85922),z=t(30352),U=t(46953),y=t(27410),S=t(90211),k=t(72959),G=t(48213);const b=s.D.matchX({HomepageHeader:"homepage-header",SayThanksCardMobile:"say-thanks-card-mobile",SayThanksCardTabletUp:"say-thanks-card-desktop",TopicsInFeed:"topics-in-feed",ExploreInFeed:"explore-in-feed",SearchInFeed:"search-in-feed"}),f=(()=>{switch(n.Oz){case"development":return s.D.matchX({HomepageHeader:(0,G.a9)(307171),SayThanksCardMobile:(0,G.a9)(237077),SayThanksCardTabletUp:(0,G.a9)(237076),TopicsInFeed:o.U3({Phone:257457,[S._]:237186}),ExploreInFeed:o.U3({Phone:257456,[S._]:247889}),SearchInFeed:o.U3({Phone:257455,[S._]:241347})});case"production":return s.D.matchX({HomepageHeader:(0,G.a9)(307172),SayThanksCardMobile:(0,G.a9)(219423),SayThanksCardTabletUp:(0,G.a9)(219424),TopicsInFeed:o.U3({Phone:257453,[S._]:237209}),ExploreInFeed:o.U3({Phone:257454,[S._]:247890}),SearchInFeed:o.U3({Phone:257452,[S._]:241348})})}})(),v=e=>{let{adType:a,count:t,zoneId:r}=e;return{divName:b(a),zoneIds:I.of(r),count:t,networkId:n.HM,siteId:n.Tf,adTypes:I.of(5),properties:{}}},D=e=>{let{adType:a,count:t,zoneId:o}=e;return(0,G.zG)((i={adType:a,count:t,zoneId:o},(0,G.zG)(h.of(d.q9),h.ap((0,G.zG)(i,v,I.of,h.of)),h.ap(h.tD(r.T)))),T.tD,T.tS((e=>T.x0(d.HM)(n.sQ,{method:"POST",headers:{[l.JU]:c.zc.JSON},body:d.D6.encode(e)}))),z.QN,z.UI((e=>(0,G.zG)(e.decisions,p.P5(b(a)),U.tS(U.ij),U.UI(I.UI((e=>s.Ad.fromKevelAd({ad:I.YM(e.contents),decision:e}))))))));var i},_=(e,a)=>I.hX((0,G.ls)((e=>{return(t=e.metadata.advertiserId,i.tSV((e=>(0,G.zG)(e,i.t94(d.Sy)(t),k.EQ({True:u.Vo((()=>(0,G.zG)(e,i.d1t((e=>d.Sy.equals(e,t)))))),False:(0,G.a9)([])})))))(a);var t}),i.EQD(G.W8,(0,G.ls)(i.Gax((a=>(0,G.zG)(e,m.fP(d.Sy)(a)))),k.ff)))),x=y.UI(U.tS((e=>(0,G.zG)(e.template,d.YS.match({"in-feed":a=>U.G(s.Ad.mkInFeedAd({...e,template:a})),[S._]:(0,G.a9)(U.YP)}))))),F=d.YS.matchX({"kitchen-sink":!0,[S._]:!1}),g=d.YS.matchX({"in-feed":!0,[S._]:!1}),w=s.D.matchX({SayThanksCardMobile:F,SayThanksCardTabletUp:F,TopicsInFeed:g,HomepageHeader:(0,G.a9)(!0),ExploreInFeed:g,SearchInFeed:g})},33951:(e,a,t)=>{t.d(a,{W2:()=>A,Yo:()=>C,DU:()=>P});var r=t(52322),n=t(70769),d=t(78271),o=t(27186),s=t(14547),c=t(3730),l=t(72034),i=t(63815),p=t(54917),h=t(9547),u=t(85387),m=t(94039),I=t(45833);const T=(0,t(60985).P1)((e=>e.directAds),(e=>e.renderedAdsByAdvertiser));var z=t(86961),U=t(88178),y=t(27973),S=t(17306),k=t(95889),G=t(85922),b=t(5914),f=t(46953),v=t(27410),D=t(90211),_=t(48213),x=t(52224),F=t(80134),g=t(5158);const w=(()=>{switch(c.Oz){case"development":return[[m.zi(2260292),m.zi(2260293)]];case"production":return[[m.zi(2262847),m.zi(1890533)]]}})(),P=e=>{let{adType:a,count:t}=e;const r=(0,u.v)(T),d=(0,n.m)((e=>(0,_.zG)(e,F.UI((e=>{let[a]=e;return a})))),[r]),o=(0,I.Fy)();return(0,n.m)((e=>{const a=(0,_.zG)(e,F.UI((e=>e[0])),F.xb(U.D.Eq.equals)),r=(0,_.zG)(e,F.UI((e=>e[1])),F.xb(f.Eh(z.Eq).equals)),n=(0,_.zG)(b.gz((0,_.zG)(a,b.u5),r),b.UI((e=>{let[a,t]=e;return(0,g.W)(a)(t)})),F.xb(f.Eh(x.Eq).equals));return(0,_.zG)(b.gz((0,_.zG)(a,b.u5),n),F.Mm(d),F.UI((e=>{let[a,t]=e;return(0,_.zG)(a,f.UI((e=>{let[a,r]=e;return(0,_.bc)(a,r,t)})))})),b.pd((e=>{let[a,r,n]=e;return(0,_.zG)(F.PQ((()=>(0,g.gz)({adType:a,count:3*t,zoneId:r}))),F.bw((0,_.ls)(v.eL((0,_.a9)(k.Xc),G.JQ.match({DecodeError:(0,_.ls)(S.Ce7(`\nKevel response failed decoding for adType: "${U.D.Show.show(a)}"`),l.oS,k.Ep),[D._]:(0,_.a9)(k.Xc)}),(e=>{const t=(0,_.zG)(e,f.Tw([]),S.UID((e=>e.template)),S.d1t((0,g.G_)(a)));return S.OdA(t)?(0,l.Kw)({error:`Kevel response has invalid templates (${(0,_.zG)(t,S.UID(m.gA),S.v_p(", "))}) for ad type: "${U.D.Show.show(a)}"`}):k.Xc})),k.ht)),F.UI(v.UI(f.tS((0,g.wk)(n,w)))))})),F.UI(f.pF((()=>v.nn))))}),[a,o])},C=e=>{let{adType:a,count:t,children:r}=e;return r((0,h.s)(P({adType:a,count:t})))},E=e=>{let{metadata:a}=e;return(0,r.jsxs)(y.PRT,{children:[(0,r.jsx)(s._,{url:a.impressionUrl}),(0,_.zG)(a.impressionTrackers,f.WA(S.Sud(((e,a)=>(0,r.jsx)(s._,{url:a},e)))))]})},A=e=>{let{children:a,metadata:t,adType:n}=e;const s=(0,i.I)();return(0,p.b)((()=>{s(d.aU.mk.DirectAdImpression({metadata:t,adType:n}))})),(0,r.jsxs)(y.PRT,{children:[a,(0,r.jsx)(o.Z,{children:(0,r.jsx)(E,{metadata:t})})]})}},4114:(e,a,t)=>{t.d(a,{$:()=>l});var r=t(52322),n=t(78271),d=t(39218),o=t(63815),s=t(27973),c=t(57888);const l=e=>{let{metadata:a,adType:t,...l}=e;const i=(0,o.I)(),p=s.I47((()=>{i(n.aU.mk.Track(c.mk.DirectAdClick({metadata:a,adType:t})))}),[a,t,i]);return(0,r.jsx)(d.r,{onClick:p,href:a.clickUrl,...l})}},9547:(e,a,t)=>{t.d(a,{s:()=>d});var r=t(93096),n=t(27410);const d=e=>(0,r.p)(e,n.nn)},1131:(e,a,t)=>{t.d(a,{$:()=>c});var r=t(98170),n=t(35239),d=t(95889),o=t(46953);const s=(0,t(48213).zG)(n.V4,d.ht,o.Gg((e=>"force_direct_ads"in e))),c=()=>(0,r.US)()&&s}}]);